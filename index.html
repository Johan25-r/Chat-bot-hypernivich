<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ChatBot Soporte</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #000;
    }

    #chatbot {
      width: 360px;
      height: 500px;
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: linear-gradient(145deg, #0f172a, #1e3a8a);
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 102, 255, 0.4);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      z-index: 9999;
    }

    #chatHeader {
      background-color: rgba(0, 0, 0, 0.4);
      color: #fff;
      text-align: center;
      padding: 15px;
      font-weight: bold;
      font-size: 18px;
    }

    #chatMessages {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      color: #fff;
      font-size: 14px;
    }

    .botMessage, .userMessage {
      margin: 8px 0;
      padding: 8px 12px;
      border-radius: 12px;
      max-width: 80%;
      animation: fadeIn 0.4s ease-in-out;
    }

    .botMessage {
      background-color: rgba(0, 0, 0, 0.3);
      align-self: flex-start;
    }

    .userMessage {
      background-color: #2563eb;
      align-self: flex-end;
    }

    #quickReplies {
      display: flex;
      flex-wrap: wrap;
      padding: 10px;
      gap: 8px;
    }

    .replyBtn {
      background: #1e40af;
      color: #fff;
      border: none;
      padding: 6px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 13px;
      transition: background 0.3s;
    }

    .replyBtn:hover {
      background: #3b82f6;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    #inputArea {
      display: flex;
      border-top: 1px solid #1e3a8a;
    }

    #userInput {
      flex: 1;
      border: none;
      padding: 10px;
      font-size: 14px;
      outline: none;
      border-radius: 0 0 0 15px;
    }

    #sendBtn {
      background: #1e40af;
      color: white;
      border: none;
      padding: 10px;
      cursor: pointer;
      border-radius: 0 0 15px 0;
    }
  </style>
</head>
<body>

<div id="chatbot">
  <div id="chatHeader">ðŸ’¬ Asistente TÃ©cnico</div>
  <div id="chatMessages"></div>
  <div id="quickReplies"></div>
  <div id="inputArea">
    <input type="text" id="userInput" placeholder="Escribe tu mensaje..." />
    <button id="sendBtn">Enviar</button>
  </div>
</div>

<script>
  const chatMessages = document.getElementById("chatMessages");
  const quickReplies = document.getElementById("quickReplies");
  const userInput = document.getElementById("userInput");
  const sendBtn = document.getElementById("sendBtn");

  function appendMessage(text, sender) {
    const message = document.createElement("div");
    message.className = sender + "Message";
    message.innerText = text;
    chatMessages.appendChild(message);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  function botResponse(text, replies = []) {
    appendMessage(text, "bot");
    quickReplies.innerHTML = "";
    replies.forEach(reply => {
      const btn = document.createElement("button");
      btn.className = "replyBtn";
      btn.innerText = reply;
      btn.onclick = () => handleUserInput(reply);
      quickReplies.appendChild(btn);
    });
  }

  function handleUserInput(input) {
    appendMessage(input, "user");

    const texto = input.toLowerCase();

    if (texto.includes("mantenimiento")) {
      botResponse("Ofrecemos mantenimiento preventivo y correctivo. Â¿Deseas agendar una cita?", ["SÃ­, agendar", "Volver"]);
    } else if (texto.includes("repuestos") || texto.includes("componentes")) {
      botResponse("Tenemos repuestos originales: discos SSD, RAM, tarjetas madre, ventiladores y mÃ¡s. Â¿QuÃ© necesitas?", ["Disco SSD", "Memoria RAM", "Volver"]);
    } else if (texto.includes("celulares")) {
      botResponse("Contamos con celulares nuevos y reacondicionados de alta calidad. Â¿Buscas uno econÃ³mico o gama alta?", ["EconÃ³mico", "Gama alta", "Volver"]);
    } else if (texto.includes("computadores gamer")) {
      botResponse("Â¡Tenemos equipos gamer con GPU RTX, procesadores Ryzen y mÃ¡s! Â¿Quieres ver precios?", ["Ver precios", "Volver"]);
    } else if (texto.includes("agendar")) {
      botResponse("Â¡Perfecto! Por favor, dÃ©janos tu nombre y nÃºmero de contacto y te llamaremos en minutos.");
    } else if (texto.includes("volver")) {
      mostrarOpciones();
    } else {
      botResponse("Lo siento, aÃºn estoy aprendiendo. Por favor elige una opciÃ³n:", ["Mantenimiento", "Repuestos", "Celulares", "Computadores Gamer"]);
    }
  }

  function mostrarOpciones() {
    botResponse("Â¿En quÃ© podemos ayudarte hoy?", ["Mantenimiento", "Repuestos", "Celulares", "Computadores Gamer"]);
  }

  sendBtn.onclick = () => {
    const text = userInput.value.trim();
    if (text !== "") {
      handleUserInput(text);
      userInput.value = "";
    }
  };

  userInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") sendBtn.click();
  });

  // Mensaje inicial
  window.onload = () => {
    botResponse("Â¡Hola! ðŸ‘‹ Soy el asistente virtual de tu empresa de tecnologÃ­a. Â¿En quÃ© te puedo ayudar?", ["Mantenimiento", "Repuestos", "Celulares", "Computadores Gamer"]);
  };
</script>

</body>
</html>
